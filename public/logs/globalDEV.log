24-06-20 10:00:13 GLOBAL [path] : POST en /api/users/register
24-06-20 10:00:13 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:00:13 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:00:13 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:00:13 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 10:00:14 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"$2b$10$SChnDfyFs02F/IdIYzqrROYX1qazPLmjLY3XEKkkcWL4XAfGQZx/e","userRole":"user","userCartID":[],"_id":"667427ded161dec43eb877b9","__v":0}
24-06-20 10:00:14 GLOBAL [path] : POST en /api/users/register
24-06-20 10:00:14 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:00:14 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:00:14 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:00:14 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userAge":54,"userPassword":"123456"}
24-06-20 10:00:14 USER-SERVICE [error] : No se pudo crear el usuario "Error de ingreso de datos"
24-06-20 10:00:14 GLOBAL [path] : POST en /api/users/register
24-06-20 10:00:14 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:00:14 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:00:14 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:00:14 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 10:00:14 USER-SERVICE [error] : No se pudo crear el usuario "Ya existe un usuario con el email prueba@gmail.com"
24-06-20 10:00:14 GLOBAL [path] : POST en /api/users/register
24-06-20 10:00:14 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:00:14 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:00:14 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:00:14 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"123456"}
24-06-20 10:00:14 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"$2b$10$UHSoGtHWXi1GwhklbN/c1.8Hvtj0qtxjG2ENWi9eXVsnFJg0DxffO","userRole":"user","userCartID":[],"_id":"667427ded161dec43eb877bd","__v":0}
24-06-20 10:00:14 GLOBAL [path] : POST en /api/users/login
24-06-20 10:00:14 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:00:14 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:00:14 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:00:14 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba2@gmail.com
24-06-20 10:00:14 GLOBAL [path] : DELETE en /api/users/667427ded161dec43eb877b9
24-06-20 10:00:14 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:00:14 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 10:00:14 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:00:14 USER-SERVICE [debug] : El usuario con id 667427ded161dec43eb877b9 fue borrado con éxito
24-06-20 10:00:14 GLOBAL [path] : PUT en /api/users/premium/667427ded161dec43eb877bd
24-06-20 10:00:14 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:00:14 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'USER', 'PREMIUM' ]
24-06-20 10:00:14 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:00:14 CUSTOM-ROUTER [warning] : El usuario no tiene los privilegios necesarios
24-06-20 10:00:14 GLOBAL [path] : DELETE en /api/users/667427ded161dec43eb877bd
24-06-20 10:00:14 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:00:14 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 10:00:14 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:00:14 USER-SERVICE [debug] : El usuario con id 667427ded161dec43eb877bd fue borrado con éxito
24-06-20 10:00:15 GLOBAL [path] : POST en /api/products/
24-06-20 10:00:15 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:00:15 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:00:15 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":"","st":true}
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":[],"st":true}
24-06-20 10:00:15 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio ST2","price":100001,"category":["EDNA"],"description":"descripcion del producto ficticio 2 generado con supertest","code":"PFST2","stock":50,"st":true,"thumb":[]}}
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 667427dfd161dec43eb877c3
24-06-20 10:00:15 GLOBAL [path] : DELETE en /api/products/667427dfd161dec43eb877c3
24-06-20 10:00:15 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:00:15 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:00:15 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : ID del producto a borrar 667427dfd161dec43eb877c3
24-06-20 10:00:15 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : El producto con id 667427dfd161dec43eb877c3 se borró exitosamente
24-06-20 10:00:15 GLOBAL [path] : POST en /api/products/
24-06-20 10:00:15 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:00:15 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:00:15 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":"","st":true}
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":[],"st":true}
24-06-20 10:00:15 PRODUCT-SERVICE [silly] : al validar {"success":false,"error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"},"_error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"}}
24-06-20 10:00:15 PRODUCT-SERVICE [error] : Error al tratar de crear un producto nuevo: Cannot destructure property 'title' of 'validateProduct(...).data' as it is undefined.
24-06-20 10:00:15 GLOBAL [path] : POST en /api/products
24-06-20 10:00:15 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:00:15 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:00:15 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":"/img/1718888415300-afuera.jpeg","st":true}
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":["/img/1718888415300-afuera.jpeg"],"st":true}
24-06-20 10:00:15 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio MT","price":100341,"category":["EDNA"],"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","code":"PFMT","stock":10,"st":true,"thumb":["/img/1718888415300-afuera.jpeg"]}}
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 667427dfd161dec43eb877c8
24-06-20 10:00:15 GLOBAL [path] : PUT en /api/products/667427dfd161dec43eb877c8/imagenes
24-06-20 10:00:15 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:00:15 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:00:15 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:00:15 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : La imagen se cargó correctamente
24-06-20 10:00:15 GLOBAL [path] : DELETE en /api/products/667427dfd161dec43eb877c8
24-06-20 10:00:15 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:00:15 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:00:15 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : ID del producto a borrar 667427dfd161dec43eb877c8
24-06-20 10:00:15 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:00:15 PRODUCT-SERVICE [debug] : El producto con id 667427dfd161dec43eb877c8 se borró exitosamente
24-06-20 10:05:03 GLOBAL [path] : GET en /api/products/
24-06-20 10:05:03 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:05:03 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:05:03 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:05:03 PRODUCT-SERVICE [debug] : se obtuvieron todos los productos sin problema
24-06-20 10:05:16 GLOBAL [path] : POST en /api/users/login
24-06-20 10:05:16 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:05:16 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:05:16 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:05:16 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: adminCoder@coder.com
24-06-20 10:05:38 GLOBAL [path] : POST en /api/users/login
24-06-20 10:05:38 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:05:38 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:05:38 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:05:38 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: adminCoder@coder.com
24-06-20 10:05:42 GLOBAL [path] : GET en /api/users/
24-06-20 10:05:42 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:05:42 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:05:42 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:05:42 USER-SERVICE [method] : getAll
24-06-20 10:23:50 GLOBAL [path] : POST en /api/users/register
24-06-20 10:23:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:23:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:23:50 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:23:50 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 10:23:50 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"$2b$10$VHHKlJOQ2p9uyoZ2MtONbu7ZTfCU48yR2UUdcdLw1IJlOtQhegKuy","userRole":"user","userCartID":[],"_id":"66742d66f7374ce578caef46","__v":0}
24-06-20 10:23:51 GLOBAL [path] : POST en /api/users/register
24-06-20 10:23:51 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:23:51 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:23:51 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:23:51 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userAge":54,"userPassword":"123456"}
24-06-20 10:23:51 USER-SERVICE [error] : No se pudo crear el usuario "Error de ingreso de datos"
24-06-20 10:23:51 GLOBAL [path] : POST en /api/users/register
24-06-20 10:23:51 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:23:51 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:23:51 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:23:51 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 10:23:51 USER-SERVICE [error] : No se pudo crear el usuario "Ya existe un usuario con el email prueba@gmail.com"
24-06-20 10:23:51 GLOBAL [path] : POST en /api/users/register
24-06-20 10:23:51 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:23:51 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:23:51 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:23:51 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"123456"}
24-06-20 10:23:51 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"$2b$10$zfE3uLIfud/t7.ckjOyYbOL36NnhRWfw45jdO31UDbi0yCg2.wXc6","userRole":"user","userCartID":[],"_id":"66742d67f7374ce578caef4a","__v":0}
24-06-20 10:23:51 GLOBAL [path] : POST en /api/users/login
24-06-20 10:23:51 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:23:51 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:23:51 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:23:51 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba2@gmail.com
24-06-20 10:23:51 GLOBAL [path] : DELETE en /api/users/66742d66f7374ce578caef46
24-06-20 10:23:51 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:23:51 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 10:23:51 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:23:51 USER-SERVICE [debug] : El usuario con id 66742d66f7374ce578caef46 fue borrado con éxito
24-06-20 10:23:51 GLOBAL [path] : PUT en /api/users/premium/66742d67f7374ce578caef4a
24-06-20 10:23:51 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:23:51 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'USER', 'PREMIUM' ]
24-06-20 10:23:51 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:23:51 CUSTOM-ROUTER [warning] : El usuario no tiene los privilegios necesarios
24-06-20 10:23:51 GLOBAL [path] : DELETE en /api/users/66742d67f7374ce578caef4a
24-06-20 10:23:51 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:23:51 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 10:23:51 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:23:51 USER-SERVICE [debug] : El usuario con id 66742d67f7374ce578caef4a fue borrado con éxito
24-06-20 10:23:51 GLOBAL [path] : POST en /api/products/
24-06-20 10:23:51 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:23:51 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:23:51 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:23:51 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:23:51 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:23:51 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":"","st":true}
24-06-20 10:23:51 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":[],"st":true}
24-06-20 10:23:51 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio ST2","price":100001,"category":["EDNA"],"description":"descripcion del producto ficticio 2 generado con supertest","code":"PFST2","stock":50,"st":true,"thumb":[]}}
24-06-20 10:23:51 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 10:23:51 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 66742d67f7374ce578caef50
24-06-20 10:23:51 GLOBAL [path] : DELETE en /api/products/66742d67f7374ce578caef50
24-06-20 10:23:51 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:23:51 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:23:51 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:23:51 PRODUCT-SERVICE [debug] : ID del producto a borrar 66742d67f7374ce578caef50
24-06-20 10:23:51 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:23:51 PRODUCT-SERVICE [debug] : El producto con id 66742d67f7374ce578caef50 se borró exitosamente
24-06-20 10:23:51 GLOBAL [path] : POST en /api/products/
24-06-20 10:23:51 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:23:51 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:23:51 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:23:51 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:23:51 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:23:51 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":"","st":true}
24-06-20 10:23:51 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":[],"st":true}
24-06-20 10:23:52 PRODUCT-SERVICE [silly] : al validar {"success":false,"error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"},"_error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"}}
24-06-20 10:23:52 PRODUCT-SERVICE [error] : Error al tratar de crear un producto nuevo: Cannot destructure property 'title' of 'validateProduct(...).data' as it is undefined.
24-06-20 10:23:52 GLOBAL [path] : POST en /api/products
24-06-20 10:23:52 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:23:52 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:23:52 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:23:52 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:23:52 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:23:52 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":"/img/1718889832092-afuera.jpeg","st":true}
24-06-20 10:23:52 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":["/img/1718889832092-afuera.jpeg"],"st":true}
24-06-20 10:23:52 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio MT","price":100341,"category":["EDNA"],"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","code":"PFMT","stock":10,"st":true,"thumb":["/img/1718889832092-afuera.jpeg"]}}
24-06-20 10:23:52 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 10:23:52 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 66742d68f7374ce578caef55
24-06-20 10:23:52 GLOBAL [path] : PUT en /api/products/66742d68f7374ce578caef55/imagenes
24-06-20 10:23:52 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:23:52 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:23:52 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:23:52 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:23:52 PRODUCT-SERVICE [debug] : La imagen se cargó correctamente
24-06-20 10:23:52 GLOBAL [path] : DELETE en /api/products/66742d68f7374ce578caef55
24-06-20 10:23:52 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:23:52 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:23:52 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:23:52 PRODUCT-SERVICE [debug] : ID del producto a borrar 66742d68f7374ce578caef55
24-06-20 10:23:52 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:23:52 PRODUCT-SERVICE [debug] : El producto con id 66742d68f7374ce578caef55 se borró exitosamente
24-06-20 10:27:49 GLOBAL [path] : POST en /api/users/register
24-06-20 10:27:49 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:27:49 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:27:49 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:27:49 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 10:27:49 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"$2b$10$pQs2B9nvBXAFBbW8qlfAKO2MGqD0M.U6rQN4sXaexthTJzh9/Vq5C","userRole":"user","userCartID":[],"_id":"66742e55f4d036297e5e237b","__v":0}
24-06-20 10:27:49 GLOBAL [path] : POST en /api/users/register
24-06-20 10:27:49 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:27:49 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:27:49 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:27:49 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userAge":54,"userPassword":"123456"}
24-06-20 10:27:49 USER-SERVICE [error] : No se pudo crear el usuario "Error de ingreso de datos"
24-06-20 10:27:49 GLOBAL [path] : POST en /api/users/register
24-06-20 10:27:49 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:27:49 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:27:49 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:27:49 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 10:27:49 USER-SERVICE [error] : No se pudo crear el usuario "Ya existe un usuario con el email prueba@gmail.com"
24-06-20 10:27:49 GLOBAL [path] : POST en /api/users/register
24-06-20 10:27:49 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:27:49 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:27:49 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:27:49 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"123456"}
24-06-20 10:27:50 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"$2b$10$B8ErdpPCguZShwMJsUPCYezUjhmdvaOFyzxoqdhicc5a91H9y1ocm","userRole":"user","userCartID":[],"_id":"66742e56f4d036297e5e237f","__v":0}
24-06-20 10:27:50 GLOBAL [path] : POST en /api/users/login
24-06-20 10:27:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:27:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:27:50 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:27:50 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba2@gmail.com
24-06-20 10:27:50 GLOBAL [path] : DELETE en /api/users/66742e55f4d036297e5e237b
24-06-20 10:27:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:27:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 10:27:50 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:27:50 USER-SERVICE [debug] : El usuario con id 66742e55f4d036297e5e237b fue borrado con éxito
24-06-20 10:27:50 GLOBAL [path] : PUT en /api/users/premium/66742e56f4d036297e5e237f
24-06-20 10:27:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:27:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'USER', 'PREMIUM' ]
24-06-20 10:27:50 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:27:50 CUSTOM-ROUTER [warning] : El usuario no tiene los privilegios necesarios
24-06-20 10:27:50 GLOBAL [path] : DELETE en /api/users/66742e56f4d036297e5e237f
24-06-20 10:27:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:27:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 10:27:50 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:27:50 USER-SERVICE [debug] : El usuario con id 66742e56f4d036297e5e237f fue borrado con éxito
24-06-20 10:27:50 GLOBAL [path] : POST en /api/products/
24-06-20 10:27:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:27:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:27:50 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":"","st":true}
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":[],"st":true}
24-06-20 10:27:50 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio ST2","price":100001,"category":["EDNA"],"description":"descripcion del producto ficticio 2 generado con supertest","code":"PFST2","stock":50,"st":true,"thumb":[]}}
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 66742e56f4d036297e5e2385
24-06-20 10:27:50 GLOBAL [path] : DELETE en /api/products/66742e56f4d036297e5e2385
24-06-20 10:27:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:27:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:27:50 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : ID del producto a borrar 66742e56f4d036297e5e2385
24-06-20 10:27:50 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : El producto con id 66742e56f4d036297e5e2385 se borró exitosamente
24-06-20 10:27:50 GLOBAL [path] : POST en /api/products/
24-06-20 10:27:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:27:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:27:50 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":"","st":true}
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":[],"st":true}
24-06-20 10:27:50 PRODUCT-SERVICE [silly] : al validar {"success":false,"error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"},"_error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"}}
24-06-20 10:27:50 PRODUCT-SERVICE [error] : Error al tratar de crear un producto nuevo: Cannot destructure property 'title' of 'validateProduct(...).data' as it is undefined.
24-06-20 10:27:50 GLOBAL [path] : POST en /api/products
24-06-20 10:27:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:27:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:27:50 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":"/img/1718890070939-afuera.jpeg","st":true}
24-06-20 10:27:50 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":["/img/1718890070939-afuera.jpeg"],"st":true}
24-06-20 10:27:51 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio MT","price":100341,"category":["EDNA"],"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","code":"PFMT","stock":10,"st":true,"thumb":["/img/1718890070939-afuera.jpeg"]}}
24-06-20 10:27:51 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 10:27:51 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 66742e57f4d036297e5e238a
24-06-20 10:27:51 GLOBAL [path] : PUT en /api/products/66742e57f4d036297e5e238a/imagenes
24-06-20 10:27:51 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:27:51 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:27:51 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:27:51 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:27:51 PRODUCT-SERVICE [debug] : La imagen se cargó correctamente
24-06-20 10:27:51 GLOBAL [path] : DELETE en /api/products/66742e57f4d036297e5e238a
24-06-20 10:27:51 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:27:51 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:27:51 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:27:51 PRODUCT-SERVICE [debug] : ID del producto a borrar 66742e57f4d036297e5e238a
24-06-20 10:27:51 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:27:51 PRODUCT-SERVICE [debug] : El producto con id 66742e57f4d036297e5e238a se borró exitosamente
24-06-20 10:37:39 GLOBAL [path] : POST en /api/users/register
24-06-20 10:37:39 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:39 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:37:39 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:37:39 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 10:37:39 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"$2b$10$WHM4ZPBRxb5.JKX8.VfW0Ox1sftDs5m5IodMG9H3P1jWs4bo.Xcki","userRole":"user","userCartID":[],"_id":"667430a3f4d036297e5e2390","__v":0}
24-06-20 10:37:39 GLOBAL [path] : POST en /api/users/register
24-06-20 10:37:39 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:39 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:37:39 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:37:39 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userAge":54,"userPassword":"123456"}
24-06-20 10:37:39 USER-SERVICE [error] : No se pudo crear el usuario "Error de ingreso de datos"
24-06-20 10:37:39 GLOBAL [path] : POST en /api/users/register
24-06-20 10:37:39 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:39 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:37:39 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:37:39 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 10:37:39 USER-SERVICE [error] : No se pudo crear el usuario "Ya existe un usuario con el email prueba@gmail.com"
24-06-20 10:37:39 GLOBAL [path] : POST en /api/users/register
24-06-20 10:37:39 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:39 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:37:39 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:37:39 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"123456"}
24-06-20 10:37:39 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"$2b$10$DQNzNLtDcZ5bT6T.WWyui.xo1UrrLtdW9Po1w3CE/YXCE0fQ51oS.","userRole":"user","userCartID":[],"_id":"667430a3f4d036297e5e2394","__v":0}
24-06-20 10:37:39 GLOBAL [path] : POST en /api/users/login
24-06-20 10:37:39 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:39 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:37:39 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:37:39 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba2@gmail.com
24-06-20 10:37:39 GLOBAL [path] : DELETE en /api/users/667430a3f4d036297e5e2390
24-06-20 10:37:39 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:39 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 10:37:39 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:37:39 USER-SERVICE [debug] : El usuario con id 667430a3f4d036297e5e2390 fue borrado con éxito
24-06-20 10:37:39 GLOBAL [path] : POST en /api/users/login
24-06-20 10:37:39 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:39 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:37:39 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:37:39 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba3@gmail.com
24-06-20 10:37:40 GLOBAL [path] : PUT en /api/users/premium/667430a3f4d036297e5e2394
24-06-20 10:37:40 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:40 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'USER', 'PREMIUM' ]
24-06-20 10:37:40 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 3 Apellido de prueba 3","email":"prueba3@gmail.com","age":18,"role":"user"}
24-06-20 10:37:40 USER-SERVICE [method] : changerole
24-06-20 10:37:40 GLOBAL [path] : POST en /api/users/login
24-06-20 10:37:40 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:40 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:37:40 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:37:40 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba2@gmail.com
24-06-20 10:37:40 GLOBAL [path] : DELETE en /api/users/667430a3f4d036297e5e2394
24-06-20 10:37:40 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:40 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 10:37:40 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:37:40 USER-SERVICE [debug] : El usuario con id 667430a3f4d036297e5e2394 fue borrado con éxito
24-06-20 10:37:40 GLOBAL [path] : POST en /api/products/
24-06-20 10:37:40 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:40 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:37:40 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":"","st":true}
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":[],"st":true}
24-06-20 10:37:40 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio ST2","price":100001,"category":["EDNA"],"description":"descripcion del producto ficticio 2 generado con supertest","code":"PFST2","stock":50,"st":true,"thumb":[]}}
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 667430a4f4d036297e5e239d
24-06-20 10:37:40 GLOBAL [path] : DELETE en /api/products/667430a4f4d036297e5e239d
24-06-20 10:37:40 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:40 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:37:40 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : ID del producto a borrar 667430a4f4d036297e5e239d
24-06-20 10:37:40 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : El producto con id 667430a4f4d036297e5e239d se borró exitosamente
24-06-20 10:37:40 GLOBAL [path] : POST en /api/products/
24-06-20 10:37:40 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:40 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:37:40 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":"","st":true}
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":[],"st":true}
24-06-20 10:37:40 PRODUCT-SERVICE [silly] : al validar {"success":false,"error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"},"_error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"}}
24-06-20 10:37:40 PRODUCT-SERVICE [error] : Error al tratar de crear un producto nuevo: Cannot destructure property 'title' of 'validateProduct(...).data' as it is undefined.
24-06-20 10:37:40 GLOBAL [path] : POST en /api/products
24-06-20 10:37:40 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:40 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:37:40 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":"/img/1718890660567-afuera.jpeg","st":true}
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":["/img/1718890660567-afuera.jpeg"],"st":true}
24-06-20 10:37:40 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio MT","price":100341,"category":["EDNA"],"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","code":"PFMT","stock":10,"st":true,"thumb":["/img/1718890660567-afuera.jpeg"]}}
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 667430a4f4d036297e5e23a2
24-06-20 10:37:40 GLOBAL [path] : PUT en /api/products/667430a4f4d036297e5e23a2/imagenes
24-06-20 10:37:40 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:40 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:37:40 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:37:40 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : La imagen se cargó correctamente
24-06-20 10:37:40 GLOBAL [path] : DELETE en /api/products/667430a4f4d036297e5e23a2
24-06-20 10:37:40 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:37:40 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:37:40 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : ID del producto a borrar 667430a4f4d036297e5e23a2
24-06-20 10:37:40 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:37:40 PRODUCT-SERVICE [debug] : El producto con id 667430a4f4d036297e5e23a2 se borró exitosamente
24-06-20 10:58:48 GLOBAL [path] : POST en /api/users/register
24-06-20 10:58:48 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:48 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:58:48 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:58:48 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 10:58:49 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"$2b$10$Pu.Pq4lgyK7WJrradloS5e7AbwF31EsqW6hQEaS2kjqAOCRiqCgvS","userRole":"user","userCartID":[],"_id":"66743599f4d036297e5e23a8","__v":0}
24-06-20 10:58:49 GLOBAL [path] : POST en /api/users/register
24-06-20 10:58:49 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:49 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:58:49 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:58:49 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userAge":54,"userPassword":"123456"}
24-06-20 10:58:49 USER-SERVICE [error] : No se pudo crear el usuario "Error de ingreso de datos"
24-06-20 10:58:49 GLOBAL [path] : POST en /api/users/register
24-06-20 10:58:49 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:49 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:58:49 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:58:49 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 10:58:49 USER-SERVICE [error] : No se pudo crear el usuario "Ya existe un usuario con el email prueba@gmail.com"
24-06-20 10:58:49 GLOBAL [path] : POST en /api/users/register
24-06-20 10:58:49 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:49 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:58:49 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:58:49 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"123456"}
24-06-20 10:58:49 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"$2b$10$UlGqWAFRqecOO4m6vWlFVu4m5cBj/piPsk5PM7D91ovEb.zd2v9GO","userRole":"user","userCartID":[],"_id":"66743599f4d036297e5e23ac","__v":0}
24-06-20 10:58:49 GLOBAL [path] : POST en /api/users/login
24-06-20 10:58:49 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:49 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:58:49 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:58:49 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba2@gmail.com
24-06-20 10:58:49 GLOBAL [path] : DELETE en /api/users/66743599f4d036297e5e23a8
24-06-20 10:58:49 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:49 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 10:58:49 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:58:49 USER-SERVICE [debug] : El usuario con id 66743599f4d036297e5e23a8 fue borrado con éxito
24-06-20 10:58:49 GLOBAL [path] : POST en /api/users/login
24-06-20 10:58:49 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:49 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:58:49 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:58:49 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba3@gmail.com
24-06-20 10:58:49 GLOBAL [path] : PUT en /api/users/premium/66743599f4d036297e5e23ac
24-06-20 10:58:49 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:49 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'USER', 'PREMIUM' ]
24-06-20 10:58:49 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 3 Apellido de prueba 3","email":"prueba3@gmail.com","age":18,"role":"user"}
24-06-20 10:58:49 USER-SERVICE [method] : changerole
24-06-20 10:58:49 GLOBAL [path] : PUT en /api/users/premium/66743599f4d036297e5e23a8
24-06-20 10:58:49 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:49 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'USER', 'PREMIUM' ]
24-06-20 10:58:49 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 3 Apellido de prueba 3","email":"prueba3@gmail.com","age":18,"role":"user"}
24-06-20 10:58:49 USER-SERVICE [method] : changerole
24-06-20 10:58:50 GLOBAL [path] : POST en /api/users/login
24-06-20 10:58:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 10:58:50 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 10:58:50 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba2@gmail.com
24-06-20 10:58:50 GLOBAL [path] : DELETE en /api/users/66743599f4d036297e5e23ac
24-06-20 10:58:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 10:58:50 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:58:50 USER-SERVICE [debug] : El usuario con id 66743599f4d036297e5e23ac fue borrado con éxito
24-06-20 10:58:50 GLOBAL [path] : POST en /api/products/
24-06-20 10:58:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:58:50 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":"","st":true}
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":[],"st":true}
24-06-20 10:58:50 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio ST2","price":100001,"category":["EDNA"],"description":"descripcion del producto ficticio 2 generado con supertest","code":"PFST2","stock":50,"st":true,"thumb":[]}}
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 6674359af4d036297e5e23b6
24-06-20 10:58:50 GLOBAL [path] : DELETE en /api/products/6674359af4d036297e5e23b6
24-06-20 10:58:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:58:50 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : ID del producto a borrar 6674359af4d036297e5e23b6
24-06-20 10:58:50 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : El producto con id 6674359af4d036297e5e23b6 se borró exitosamente
24-06-20 10:58:50 GLOBAL [path] : POST en /api/products/
24-06-20 10:58:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:58:50 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":"","st":true}
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":[],"st":true}
24-06-20 10:58:50 PRODUCT-SERVICE [silly] : al validar {"success":false,"error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"},"_error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"}}
24-06-20 10:58:50 PRODUCT-SERVICE [error] : Error al tratar de crear un producto nuevo: Cannot destructure property 'title' of 'validateProduct(...).data' as it is undefined.
24-06-20 10:58:50 GLOBAL [path] : POST en /api/products
24-06-20 10:58:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:58:50 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":"/img/1718891930584-afuera.jpeg","st":true}
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":["/img/1718891930584-afuera.jpeg"],"st":true}
24-06-20 10:58:50 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio MT","price":100341,"category":["EDNA"],"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","code":"PFMT","stock":10,"st":true,"thumb":["/img/1718891930584-afuera.jpeg"]}}
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 6674359af4d036297e5e23bb
24-06-20 10:58:50 GLOBAL [path] : PUT en /api/products/6674359af4d036297e5e23bb/imagenes
24-06-20 10:58:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:58:50 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:58:50 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : La imagen se cargó correctamente
24-06-20 10:58:50 GLOBAL [path] : DELETE en /api/products/6674359af4d036297e5e23bb
24-06-20 10:58:50 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 10:58:50 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 10:58:50 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : ID del producto a borrar 6674359af4d036297e5e23bb
24-06-20 10:58:50 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 10:58:50 PRODUCT-SERVICE [debug] : El producto con id 6674359af4d036297e5e23bb se borró exitosamente
24-06-20 11:02:11 GLOBAL [path] : POST en /api/users/register
24-06-20 11:02:11 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:11 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 11:02:11 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 11:02:11 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 11:02:12 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"$2b$10$CXFkONMSkLX3ruCq7T4Ht.PnYn3Ynqkegw1NE/NXxzcFUS5Auok1K","userRole":"user","userCartID":[],"_id":"66743663f4d036297e5e23c1","__v":0}
24-06-20 11:02:12 GLOBAL [path] : POST en /api/users/register
24-06-20 11:02:12 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:12 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 11:02:12 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 11:02:12 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userAge":54,"userPassword":"123456"}
24-06-20 11:02:12 USER-SERVICE [error] : No se pudo crear el usuario "Error de ingreso de datos"
24-06-20 11:02:12 GLOBAL [path] : POST en /api/users/register
24-06-20 11:02:12 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:12 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 11:02:12 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 11:02:12 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 11:02:12 USER-SERVICE [error] : No se pudo crear el usuario "Ya existe un usuario con el email prueba@gmail.com"
24-06-20 11:02:12 GLOBAL [path] : POST en /api/users/register
24-06-20 11:02:12 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:12 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 11:02:12 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 11:02:12 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"123456"}
24-06-20 11:02:12 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"$2b$10$8HjPTauAFmptp0ai6WGIm.B1FqMC5uoG25stXLvjsHqsHu9W50q3G","userRole":"user","userCartID":[],"_id":"66743664f4d036297e5e23c5","__v":0}
24-06-20 11:02:12 GLOBAL [path] : POST en /api/users/login
24-06-20 11:02:12 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:12 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 11:02:12 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 11:02:12 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba3@gmail.com
24-06-20 11:02:12 GLOBAL [path] : PUT en /api/users/premium/66743664f4d036297e5e23c5
24-06-20 11:02:12 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:12 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'USER', 'PREMIUM' ]
24-06-20 11:02:12 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 3 Apellido de prueba 3","email":"prueba3@gmail.com","age":18,"role":"user"}
24-06-20 11:02:12 USER-SERVICE [method] : changerole
24-06-20 11:02:12 GLOBAL [path] : PUT en /api/users/premium/66743663f4d036297e5e23c1
24-06-20 11:02:12 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:12 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'USER', 'PREMIUM' ]
24-06-20 11:02:12 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 3 Apellido de prueba 3","email":"prueba3@gmail.com","age":18,"role":"user"}
24-06-20 11:02:12 USER-SERVICE [method] : changerole
24-06-20 11:02:12 USER-SERVICE [error] : El usuario logueado no es el usuario con el id ingresado por parámetro
24-06-20 11:02:12 GLOBAL [path] : POST en /api/users/login
24-06-20 11:02:12 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:12 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 11:02:12 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 11:02:12 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba2@gmail.com
24-06-20 11:02:12 GLOBAL [path] : DELETE en /api/users/66743663f4d036297e5e23c1
24-06-20 11:02:12 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:12 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 11:02:12 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 11:02:12 USER-SERVICE [debug] : El usuario con id 66743663f4d036297e5e23c1 fue borrado con éxito
24-06-20 11:02:12 GLOBAL [path] : DELETE en /api/users/66743664f4d036297e5e23c5
24-06-20 11:02:12 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:12 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 11:02:12 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 11:02:12 USER-SERVICE [debug] : El usuario con id 66743664f4d036297e5e23c5 fue borrado con éxito
24-06-20 11:02:12 GLOBAL [path] : POST en /api/products/
24-06-20 11:02:12 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:12 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 11:02:12 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 11:02:12 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 11:02:12 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 11:02:12 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":"","st":true}
24-06-20 11:02:12 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":[],"st":true}
24-06-20 11:02:13 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio ST2","price":100001,"category":["EDNA"],"description":"descripcion del producto ficticio 2 generado con supertest","code":"PFST2","stock":50,"st":true,"thumb":[]}}
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 66743665f4d036297e5e23ce
24-06-20 11:02:13 GLOBAL [path] : DELETE en /api/products/66743665f4d036297e5e23ce
24-06-20 11:02:13 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:13 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 11:02:13 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : ID del producto a borrar 66743665f4d036297e5e23ce
24-06-20 11:02:13 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : El producto con id 66743665f4d036297e5e23ce se borró exitosamente
24-06-20 11:02:13 GLOBAL [path] : POST en /api/products/
24-06-20 11:02:13 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:13 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 11:02:13 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":"","st":true}
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":[],"st":true}
24-06-20 11:02:13 PRODUCT-SERVICE [silly] : al validar {"success":false,"error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"},"_error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"}}
24-06-20 11:02:13 PRODUCT-SERVICE [error] : Error al tratar de crear un producto nuevo: Cannot destructure property 'title' of 'validateProduct(...).data' as it is undefined.
24-06-20 11:02:13 GLOBAL [path] : POST en /api/products
24-06-20 11:02:13 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:13 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 11:02:13 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":"/img/1718892133249-afuera.jpeg","st":true}
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":["/img/1718892133249-afuera.jpeg"],"st":true}
24-06-20 11:02:13 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio MT","price":100341,"category":["EDNA"],"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","code":"PFMT","stock":10,"st":true,"thumb":["/img/1718892133249-afuera.jpeg"]}}
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 66743665f4d036297e5e23d3
24-06-20 11:02:13 GLOBAL [path] : PUT en /api/products/66743665f4d036297e5e23d3/imagenes
24-06-20 11:02:13 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:13 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 11:02:13 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 11:02:13 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : La imagen se cargó correctamente
24-06-20 11:02:13 GLOBAL [path] : DELETE en /api/products/66743665f4d036297e5e23d3
24-06-20 11:02:13 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 11:02:13 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 11:02:13 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : ID del producto a borrar 66743665f4d036297e5e23d3
24-06-20 11:02:13 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 11:02:13 PRODUCT-SERVICE [debug] : El producto con id 66743665f4d036297e5e23d3 se borró exitosamente
24-06-20 12:01:18 GLOBAL [path] : POST en /api/users/register
24-06-20 12:01:18 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:18 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 12:01:18 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 12:01:18 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 12:01:19 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"$2b$10$RWPftpPZODoUFUkPKlJUv.L4FqsLTrFFnbyk3jwf6eshwEQ1m4cw.","userRole":"user","userCartID":[],"_id":"6674443e9b68f6a4d6f00f42","__v":0}
24-06-20 12:01:19 GLOBAL [path] : POST en /api/users/register
24-06-20 12:01:19 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:19 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 12:01:19 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 12:01:19 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba NOK","userLastName":"Apellido de prueba","userAge":54,"userPassword":"123456"}
24-06-20 12:01:19 USER-SERVICE [error] : No se pudo crear el usuario "Error de ingreso de datos"
24-06-20 12:01:19 GLOBAL [path] : POST en /api/users/register
24-06-20 12:01:19 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:19 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 12:01:19 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 12:01:19 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba NOK","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 12:01:19 USER-SERVICE [error] : No se pudo crear el usuario "Ya existe un usuario con el email prueba@gmail.com"
24-06-20 12:01:19 GLOBAL [path] : POST en /api/users/register
24-06-20 12:01:19 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:19 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 12:01:19 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 12:01:19 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"123456"}
24-06-20 12:01:19 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"$2b$10$/.y8/52thexEtZ7Qbdg7wOvTu2fEUwTCxV0z8khkXmE5pInkRlIwu","userRole":"user","userCartID":[],"_id":"6674443f9b68f6a4d6f00f46","__v":0}
24-06-20 12:01:19 GLOBAL [path] : POST en /api/users/login
24-06-20 12:01:19 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:19 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 12:01:19 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 12:01:19 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba3@gmail.com
24-06-20 12:01:19 GLOBAL [path] : PUT en /api/users/premium/6674443f9b68f6a4d6f00f46
24-06-20 12:01:19 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:19 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'USER', 'PREMIUM' ]
24-06-20 12:01:19 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 3 Apellido de prueba 3","email":"prueba3@gmail.com","age":18,"role":"user"}
24-06-20 12:01:19 USER-SERVICE [method] : changerole
24-06-20 12:01:19 GLOBAL [path] : PUT en /api/users/premium/6674443e9b68f6a4d6f00f42
24-06-20 12:01:19 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:19 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'USER', 'PREMIUM' ]
24-06-20 12:01:19 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 3 Apellido de prueba 3","email":"prueba3@gmail.com","age":18,"role":"user"}
24-06-20 12:01:19 USER-SERVICE [method] : changerole
24-06-20 12:01:20 USER-SERVICE [error] : El usuario logueado no es el usuario con el id ingresado por parámetro
24-06-20 12:01:20 GLOBAL [path] : POST en /api/users/login
24-06-20 12:01:20 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:20 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 12:01:20 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 12:01:20 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba2@gmail.com
24-06-20 12:01:20 GLOBAL [path] : DELETE en /api/users/6674443e9b68f6a4d6f00f42
24-06-20 12:01:20 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:20 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 12:01:20 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:01:20 USER-SERVICE [debug] : El usuario con id 6674443e9b68f6a4d6f00f42 fue borrado con éxito
24-06-20 12:01:20 GLOBAL [path] : DELETE en /api/users/6674443f9b68f6a4d6f00f46
24-06-20 12:01:20 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:20 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 12:01:20 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:01:20 USER-SERVICE [debug] : El usuario con id 6674443f9b68f6a4d6f00f46 fue borrado con éxito
24-06-20 12:01:20 GLOBAL [path] : POST en /api/products/
24-06-20 12:01:20 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:20 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 12:01:20 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":"","st":true}
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":[],"st":true}
24-06-20 12:01:20 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio ST2","price":100001,"category":["EDNA"],"description":"descripcion del producto ficticio 2 generado con supertest","code":"PFST2","stock":50,"st":true,"thumb":[]}}
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 667444409b68f6a4d6f00f4f
24-06-20 12:01:20 GLOBAL [path] : DELETE en /api/products/667444409b68f6a4d6f00f4f
24-06-20 12:01:20 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:20 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 12:01:20 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : ID del producto a borrar 667444409b68f6a4d6f00f4f
24-06-20 12:01:20 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : El producto con id 667444409b68f6a4d6f00f4f se borró exitosamente
24-06-20 12:01:20 GLOBAL [path] : POST en /api/products/
24-06-20 12:01:20 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:20 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 12:01:20 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":"","st":true}
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":[],"st":true}
24-06-20 12:01:20 PRODUCT-SERVICE [silly] : al validar {"success":false,"error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"},"_error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"}}
24-06-20 12:01:20 PRODUCT-SERVICE [error] : Error al tratar de crear un producto nuevo: Cannot destructure property 'title' of 'validateProduct(...).data' as it is undefined.
24-06-20 12:01:20 GLOBAL [path] : POST en /api/products
24-06-20 12:01:20 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:20 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 12:01:20 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":"/img/1718895680723-afuera.jpeg","st":true}
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":["/img/1718895680723-afuera.jpeg"],"st":true}
24-06-20 12:01:20 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio MT","price":100341,"category":["EDNA"],"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","code":"PFMT","stock":10,"st":true,"thumb":["/img/1718895680723-afuera.jpeg"]}}
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 12:01:20 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 667444409b68f6a4d6f00f54
24-06-20 12:01:21 GLOBAL [path] : PUT en /api/products/667444409b68f6a4d6f00f54/imagenes
24-06-20 12:01:21 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:21 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 12:01:21 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:01:21 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 12:01:21 PRODUCT-SERVICE [debug] : La imagen se cargó correctamente
24-06-20 12:01:21 GLOBAL [path] : DELETE en /api/products/667444409b68f6a4d6f00f54
24-06-20 12:01:21 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:01:21 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 12:01:21 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:01:21 PRODUCT-SERVICE [debug] : ID del producto a borrar 667444409b68f6a4d6f00f54
24-06-20 12:01:21 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 12:01:21 PRODUCT-SERVICE [debug] : El producto con id 667444409b68f6a4d6f00f54 se borró exitosamente
24-06-20 12:35:15 GLOBAL [path] : POST en /api/users/register
24-06-20 12:35:15 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:15 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 12:35:15 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 12:35:15 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 12:35:16 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"$2b$10$WqF2QDt8m8w8v0hYP/E3be86FETHx8uz/IkTMSUlIRRcQFepzkeNK","userRole":"user","userCartID":[],"_id":"66744c349b68f6a4d6f00f5a","__v":0}
24-06-20 12:35:16 GLOBAL [path] : POST en /api/users/register
24-06-20 12:35:16 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:16 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 12:35:16 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 12:35:16 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba NOK","userLastName":"Apellido de prueba","userAge":54,"userPassword":"123456"}
24-06-20 12:35:16 USER-SERVICE [error] : No se pudo crear el usuario "Error de ingreso de datos"
24-06-20 12:35:16 GLOBAL [path] : POST en /api/users/register
24-06-20 12:35:16 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:16 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 12:35:16 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 12:35:16 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba NOK","userLastName":"Apellido de prueba","userEmail":"prueba@gmail.com","userAge":54,"userPassword":"123456"}
24-06-20 12:35:16 USER-SERVICE [error] : No se pudo crear el usuario "Ya existe un usuario con el email prueba@gmail.com"
24-06-20 12:35:16 GLOBAL [path] : POST en /api/users/register
24-06-20 12:35:16 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:16 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 12:35:16 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 12:35:16 USER-SERVICE [debug] : Datos que llegan luego de la validación del formulario de login {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"123456"}
24-06-20 12:35:16 USER-SERVICE [debug] : se ha creado el usuario {"userName":"Usuario de prueba 3","userLastName":"Apellido de prueba 3","userEmail":"prueba3@gmail.com","userAge":18,"userPassword":"$2b$10$byphojDDyIdglhoppvOl.O.lBYDuG5O55w/MVzXLumA1Q8JsXl9uS","userRole":"user","userCartID":[],"_id":"66744c349b68f6a4d6f00f5e","__v":0}
24-06-20 12:35:16 GLOBAL [path] : POST en /api/users/login
24-06-20 12:35:16 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:16 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 12:35:16 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 12:35:16 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba3@gmail.com
24-06-20 12:35:16 GLOBAL [path] : PUT en /api/users/premium/66744c349b68f6a4d6f00f5e
24-06-20 12:35:16 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:16 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'USER', 'PREMIUM' ]
24-06-20 12:35:16 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 3 Apellido de prueba 3","email":"prueba3@gmail.com","age":18,"role":"user"}
24-06-20 12:35:16 USER-SERVICE [method] : changerole
24-06-20 12:35:16 GLOBAL [path] : PUT en /api/users/premium/66744c349b68f6a4d6f00f5a
24-06-20 12:35:16 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:16 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'USER', 'PREMIUM' ]
24-06-20 12:35:16 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 3 Apellido de prueba 3","email":"prueba3@gmail.com","age":18,"role":"user"}
24-06-20 12:35:16 USER-SERVICE [method] : changerole
24-06-20 12:35:16 USER-SERVICE [error] : El usuario logueado no es el usuario con el id ingresado por parámetro
24-06-20 12:35:16 GLOBAL [path] : POST en /api/users/login
24-06-20 12:35:16 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:16 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'PUBLIC' ]
24-06-20 12:35:16 CUSTOM-ROUTER [silly] : sigue de largo porque es PUBLIC
24-06-20 12:35:16 USER-SERVICE [debug] : El usuario que se quiere loguear tiene email: prueba2@gmail.com
24-06-20 12:35:16 GLOBAL [path] : DELETE en /api/users/66744c349b68f6a4d6f00f5a
24-06-20 12:35:16 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:16 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 12:35:16 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:35:16 USER-SERVICE [debug] : El usuario con id 66744c349b68f6a4d6f00f5a fue borrado con éxito
24-06-20 12:35:16 GLOBAL [path] : DELETE en /api/users/66744c349b68f6a4d6f00f5e
24-06-20 12:35:16 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:16 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN' ]
24-06-20 12:35:16 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:35:17 USER-SERVICE [debug] : El usuario con id 66744c349b68f6a4d6f00f5e fue borrado con éxito
24-06-20 12:35:17 GLOBAL [path] : POST en /api/products/
24-06-20 12:35:17 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:17 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 12:35:17 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":"","st":true}
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio ST2","stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST2","thumb":[],"st":true}
24-06-20 12:35:17 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio ST2","price":100001,"category":["EDNA"],"description":"descripcion del producto ficticio 2 generado con supertest","code":"PFST2","stock":50,"st":true,"thumb":[]}}
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 66744c359b68f6a4d6f00f67
24-06-20 12:35:17 GLOBAL [path] : DELETE en /api/products/66744c359b68f6a4d6f00f67
24-06-20 12:35:17 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:17 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 12:35:17 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : ID del producto a borrar 66744c359b68f6a4d6f00f67
24-06-20 12:35:17 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : El producto con id 66744c359b68f6a4d6f00f67 se borró exitosamente
24-06-20 12:35:17 GLOBAL [path] : POST en /api/products/
24-06-20 12:35:17 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:17 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 12:35:17 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":"","st":true}
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"stock":50,"description":"descripcion del producto ficticio 2 generado con supertest","price":100001,"category":["EDNA"],"code":"PFST5","thumb":[],"st":true}
24-06-20 12:35:17 PRODUCT-SERVICE [silly] : al validar {"success":false,"error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"},"_error":{"issues":[{"code":"invalid_type","expected":"string","received":"undefined","path":["title"],"message":"El nombre es requerido"}],"name":"ZodError"}}
24-06-20 12:35:17 PRODUCT-SERVICE [error] : Error al tratar de crear un producto nuevo: Cannot destructure property 'title' of 'validateProduct(...).data' as it is undefined.
24-06-20 12:35:17 GLOBAL [path] : POST en /api/products
24-06-20 12:35:17 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:17 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 12:35:17 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : usuario en controlador de productos {
  name: 'Usuario de prueba 2 Apellido de prueba 2',
  email: 'prueba2@gmail.com',
  age: 24,
  role: 'admin'
}
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : owner en controlador false
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : datos para crear producto que llegan al controlador {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":"/img/1718897717394-afuera.jpeg","st":true}
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : Datos que llegan al servicio {"title":"Producto ficticio MT","stock":10,"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","price":100341,"category":["EDNA"],"code":"PFMT","thumb":["/img/1718897717394-afuera.jpeg"],"st":true}
24-06-20 12:35:17 PRODUCT-SERVICE [silly] : al validar {"success":true,"data":{"title":"Producto ficticio MT","price":100341,"category":["EDNA"],"description":"descripcion del producto ficticio generado con supertest para probar la subida de imágenes","code":"PFMT","stock":10,"st":true,"thumb":["/img/1718897717394-afuera.jpeg"]}}
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : owner verificado undefined
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : El producto se agregó correctamente con id 66744c359b68f6a4d6f00f6c
24-06-20 12:35:17 GLOBAL [path] : PUT en /api/products/66744c359b68f6a4d6f00f6c/imagenes
24-06-20 12:35:17 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:17 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 12:35:17 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:35:17 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : La imagen se cargó correctamente
24-06-20 12:35:17 GLOBAL [path] : DELETE en /api/products/66744c359b68f6a4d6f00f6c
24-06-20 12:35:17 GLOBAL [method] : Entrando a llamar strategy: 
24-06-20 12:35:17 CUSTOM-ROUTER [method] : Políticas a evaluar: [ 'ADMIN', 'PREMIUM' ]
24-06-20 12:35:17 CUSTOM-ROUTER [debug] : Usuario en handle policies {"name":"Usuario de prueba 2 Apellido de prueba 2","email":"prueba2@gmail.com","age":24,"role":"admin"}
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : ID del producto a borrar 66744c359b68f6a4d6f00f6c
24-06-20 12:35:17 PRODUCT-SERVICE [silly] : pasó todos los controles
24-06-20 12:35:17 PRODUCT-SERVICE [debug] : El producto con id 66744c359b68f6a4d6f00f6c se borró exitosamente
